<br />
<div class = 'florio center-block text-center'>
  <h1>Florio's 1611 <br/>Italian-English Dictionary</h1>
  <br />
  <form action="<%= root_path%>" method ='get' class = 'form-inline'>
    <div class = 'form-group'>
    <p>
      <input name='search' id='search' value ='<%= params[:search] %>' data-autocomplete-source='<%=autosearches_path %>?search=' placeholder = 'Enter search' class = 'form-control' />
      <%= submit_tag "Search", :name => nil, :class => 'btn btn-info' %>
    </p>
    </div>
  </form>
</div>

<br />

  <div class = 'result' >
    <hr class = 'divide' />
    <% if @word.present? %>
          <h3><%= @word.word %></h3>
          <%= link_to 'edit', edit_word_path(@word), :class => 'btn btn-success pull-right' %>
          <p>
            <b>Definition</b>:
          <br>
            <%= @word.definition %>
          </p>
      <% if @word.alternative_word.present? %>
          <i>also... <b><%= @word.alternative_word %></b></i>
      <% end %>
      <% if @word.alternative_definition.present? %>
          <p>
          <b>Definition</b>:
          <br>
          <%= @word.alternative_definition %>
          </p>
       <% end %>
    <% else %>
      <% flash.each do |name, msg| %>
        <%= content_tag :div, msg, class: name %>
      <% end %>
    <% end %>
    <hr class = 'divide' />
  </div>


<div class = 'suggestion'>

<% if @words.present? %>
<h4>Other Suggestions:</h4>
  <table class = 'table table-hover'>
    <thead>
    <tr>
      <th>Italian Words</th>
      <th>Definition</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
      <% @words.each do |word| %>
        <tr>
          <td><%= link_to word.word, word_path(word) %></td>
          <td><%= word.definition %></td>
          <td><%= link_to 'edit', edit_word_path(word), :class => 'btn btn-success' %><td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>
</div>

<script>
$(function () {
    $('#search').autocomplete({
       source: $('#search').data('autocomplete-source'),
       minLength: 2,
       messages: {
        noResults: '',
        results: function() {}
       }
    });
})

</script>
